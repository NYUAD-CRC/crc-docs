

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Software Modules &mdash; CRC Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Miniconda on the HPC" href="hpc_miniconda.html" />
    <link rel="prev" title="Software" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/crc-wordmark-light.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">HPC Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hpc.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dalma.html">Dalma HPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/index.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Software</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#software-modules-and-environment">Software Modules and environment</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Software Modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#hpc-miniconda">HPC Miniconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#singularity">Singularity</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/index.html">Jobs Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/index.html">Research Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/index.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/index.html">HPC Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_load/index.html">HPC Load</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RCS Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/rcs.html">Research Computing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/1001n.html">1001n Research Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/kb/index.html">Knowledge Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/data_science/index.html">Research Data Science Services</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../team.html">Center for Research Computing Team</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CRC Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Software</a> &raquo;</li>
        
      <li>Software Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-modules">
<h1>Software Modules<a class="headerlink" href="#software-modules" title="Permalink to this headline">¶</a></h1>
<p>HPC systems differ from desktop/laptop computers in how
software is installed. In a desktop/laptop you install software
in a pre-defined centralized location where all users can
access it. For instance the command <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">python</span></code> or <code class="docutils literal notranslate"><span class="pre">yum</span> <span class="pre">install</span> <span class="pre">python</span></code>
will install python version 2.7.5 (on CentOS 7) under /usr/bin.
But in a large system hosting a multitude of users it is not
practical to have a single version of “python” installed. Some
users may need access to the latest version, while others
have hard dependencies on an earlier version. And of
course, this applies to all applications. So in an HPC system
software is installed as independent modules which users
must explicitly load into their shell environment.</p>
<p>Here’s an example with matlab.</p>
<p>When you login your shell environment is empty of all software modules</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>wz22@login-0-1 ~<span class="o">]</span>$ matlab
-bash: matlab: <span class="nb">command</span> not found
<span class="o">[</span>wz22@login-0-1 ~<span class="o">]</span>$ which matlab
/usr/bin/which: no matlab <span class="k">in</span> <span class="o">(</span>/share/apps/NYUAD/miniconda/3-4.8.2/condabin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/ibutils/bin:/opt/slurm/default/bin:/opt/slurm/default/sbin:/share/apps/the HPC/tools:/share/apps/NYUAD/screen/4.3.1/bin:/home/wz22/.local/bin:/home/wz22/bin<span class="o">)</span>
<span class="o">[</span>wz22@login-0-1 ~<span class="o">]</span>$ module avail matlab

---------------------------------------- /share/apps/NYUAD/modules/SOFTWARE ----------------------------------------
matlab/R2015b matlab/R2019a
<span class="o">[</span>wz22@login-0-1 ~<span class="o">]</span>$ module load matlab/R2019a
Loading module <span class="s1">&#39;matlab/R2019a&#39;</span>
<span class="o">[</span>wz22@login-0-1 ~<span class="o">]</span>$ which matlab
/share/apps/NYUAD/matlab/R2019a/bin/matlab
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span> <span class="pre">matlab</span></code> shows you all available versions of matlab on the HPC. <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">matlab/R2019a</span></code> loads the R2019a
version into your shell environment. So when you invoke <code class="docutils literal notranslate"><span class="pre">matlab</span></code> you actually use the correct version.</p>
<p>Software module environment are set on a per shell instance. So if you open a new terminal on a login node the
environment you may have set in another terminal will not be propagated.
You can control and monitor the contents of your software modules environment with the following commands:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">list</span></code></p></td>
<td><p>Display contents of your software modules environment</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">purge</span></code></p></td>
<td><p>Reset your software modules environment</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code></p></td>
<td><p>Display the list of all software modules available</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">XXX</span></code></p></td>
<td><p>Load software module XXX into your environment</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">unload</span> <span class="pre">XXX</span></code></p></td>
<td><p>Unload software module XXX from your environment</p></td>
</tr>
</tbody>
</table>
<p>As a guideline you should:</p>
<ul class="simple">
<li><p>Never add <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code> into your .bashrc file</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">purge</span></code> before loading a new module environment to run an application</p></li>
<li><p>Use a shell script to run an application and include the necessary modules in the script:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
module purge
module load matlab
matlab –nodisplay –nodesktop –r <span class="s2">&quot;mycode.m&quot;</span>
</pre></div>
</div>
<p>If you use <code class="docutils literal notranslate"><span class="pre">csh</span></code> then you need to initialize the software module environment before using <code class="docutils literal notranslate"><span class="pre">module</span></code> commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/csh</span>
<span class="nb">source</span> /usr/share/Modules/init/csh
module purge
module load matlab
matlab –nodisplay –nodesktop –r <span class="s2">&quot;mycode.m&quot;</span>
</pre></div>
</div>
<p>You can compile / install your own software, and/or use our Module system. For the latter, first check what applications are available.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the following commands after logging in the HPC</span>
module avail
</pre></div>
</div>
<p>Then you could select the desired software to load. The following example shows how to load a self-sufficient-single-application environment for gromacs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the following commands after logging in the HPC</span>
module load gromacs
<span class="c1"># or use the full module name with version</span>
module load gromacs/5.0.4
</pre></div>
</div>
<p>The following example shows how to load an environment for compiling source code from scratch.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the following commands after logging in the HPC</span>
module load gcc
<span class="c1"># multiple modules could be loaded in one line</span>
module load openmpi fftw3
</pre></div>
</div>
<p>At this point, compilers like <code class="docutils literal notranslate"><span class="pre">gcc</span></code>, <code class="docutils literal notranslate"><span class="pre">gfortran</span></code> and <code class="docutils literal notranslate"><span class="pre">g++</span></code> are available, in a sense that the paths to those executables are prepended to <code class="docutils literal notranslate"><span class="pre">$PATH</span></code>. Also, paths to libraries files from <code class="docutils literal notranslate"><span class="pre">FFTW3</span></code> will be prepended to <code class="docutils literal notranslate"><span class="pre">$LD_LIBRARY_PATH</span></code>.</p>
<p><strong>If you cannot find a certain version of the software (for example, you are looking for Python 3, but only to find Python 2 is available), try running the following command to make all modules visible first.</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the following commands after logging in the HPC</span>
module load all
module avail python
--------------------------------------- /share/apps/NYUAD/modules/ALL -------------------------------
python/2.7.11 python/3.5.1
</pre></div>
</div>
<p>As you can see, <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">3</span></code> is available then. You could load <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">3</span></code> by loading the specific module.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module load python/3.5.1
</pre></div>
</div>
<p>At this point, you should be able to invoke the executable, e.g., <code class="docutils literal notranslate"><span class="pre">python</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alternatively, you can use the HPC miniconda for hassle-free, independent Python environment. Follow this page: <a class="reference internal" href="hpc_miniconda.html"><span class="doc">Miniconda in HPC</span></a></p>
</div>
<p>More information about the software modules in the HPC can
be found in the document here <a class="reference download internal" download="" href="../../_downloads/fa313670c97d63455f972dfb0a448ac3/Dalma-SWModules.pdf"><code class="xref download docutils literal notranslate"><span class="pre">HPC</span> <span class="pre">SW</span> <span class="pre">modules</span></code></a></p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="hpc_miniconda.html" class="btn btn-neutral float-right" title="Miniconda on the HPC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Software" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Center for Research Computing | NYU Abu Dhabi.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>