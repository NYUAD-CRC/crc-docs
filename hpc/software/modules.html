

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Software Modules &mdash; CRC Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/crc-wordmark-light.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">RCS Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/index.html">Research Computing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/kb/index.html">Knowledge Base</a></li>
</ul>
<p class="caption"><span class="caption-text">HPC Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">High Performance Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/index.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/index.html">Jobs Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/index.html">Research Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/index.html">Help</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CRC Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Software Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/hpc/software/modules.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-modules">
<h1>Software Modules<a class="headerlink" href="#software-modules" title="Permalink to this headline">¶</a></h1>
<p>HPC systems differ from desktop/laptop computers in how
software is installed. In a desktop/laptop you install software
in a pre-defined centralized location where all users can
access it. For instance the command “yum install python”
will install python version 2.7.5 (on CentOS 7) under /usr/bin.
But in a large system hosting a multitude of users it is not
practical to have a single version of “python” installed. Some
users may need access to the latest version, while others
have hard dependencies on an earlier version. And of
course, this applies to all applications. So in an HPC system
software is installed as independent modules which users
must explicitly load into their shell environment.
Here’s an example with matlab:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">matlab</span><span class="o">/</span><span class="mi">2019</span><span class="n">b</span>
</pre></div>
</div>
<p>When you login your shell environment is empty of all software modules.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>we strongly discourage loading modules automatically in your .bashrc</strong></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span> <span class="pre">matlab</span></code> shows you all available versions of matlab on Dalma. <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">matlab/R2016a</span></code> loads the R2016a version into your shell environment. So when you invoke <code class="docutils literal notranslate"><span class="pre">matlab</span></code> you actually use the correct version.</p>
<p>Software module environment are set on a per shell instance. So if you open a new terminal on a login node the
environment you may have set in another terminal will not be propagated.
You can control and monitor the contents of your software modules environment with the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="nb">list</span>         <span class="o">-</span>   <span class="n">Display</span> <span class="n">contents</span> <span class="n">of</span> <span class="n">your</span> <span class="n">software</span> <span class="n">modules</span> <span class="n">environment</span>
<span class="n">module</span> <span class="n">purge</span>        <span class="o">-</span>   <span class="n">Reset</span> <span class="n">your</span> <span class="n">software</span> <span class="n">modules</span> <span class="n">environment</span>
<span class="n">module</span> <span class="n">avail</span>        <span class="o">-</span>   <span class="n">Display</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">software</span> <span class="n">modules</span> <span class="n">available</span>
<span class="n">module</span> <span class="n">load</span> <span class="n">XXX</span>     <span class="o">-</span>   <span class="n">Load</span> <span class="n">software</span> <span class="n">module</span> <span class="n">XXX</span> <span class="n">into</span> <span class="n">your</span> <span class="n">environment</span>
<span class="n">module</span> <span class="n">unload</span> <span class="n">XXX</span>   <span class="o">-</span>   <span class="n">Unload</span> <span class="n">software</span> <span class="n">module</span> <span class="n">XXX</span> <span class="kn">from</span> <span class="nn">your</span> <span class="n">environment</span>
</pre></div>
</div>
<p>As a guideline you should</p>
<ul class="simple">
<li><p>Never add <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code> into your .bashrc file</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">purge</span></code> before loading a new module environment to run an application</p></li>
<li><p>Use a shell script to run an application and include the necessary modules in the script</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
module purge
module load matlab
matlab –nodisplay –nodesktop –r &quot;mycode.m&quot;
</pre></div>
</div>
<p>Dalma implements a one-of-a-kind software module environment – developed by the HPC team in Abu Dhabi – which is
designed to make using software modules simpler and safer.</p>
<p>By simpler we mean that you need not load dependent software modules. For instance if you load netcdf into your
environment, you need not load hdf5, nor zlib. All dependencies are automatically handled. So everytime you use netcdf
you get the same software modules and get the same results.</p>
<p>Things are also simpler as when compiling applications and libraries you do not neet to worry about specifying the
directories from which to pick up libraries (<code class="docutils literal notranslate"><span class="pre">-L</span></code>) or include files (<code class="docutils literal notranslate"><span class="pre">-I</span></code>), and you do not need to list all dependent libraries. For
example when linking with netcdf you do not need to list the dependent libraries, such as <code class="docutils literal notranslate"><span class="pre">hdf5</span></code> and <code class="docutils literal notranslate"><span class="pre">zlib</span></code>; it’s as simple as
<code class="docutils literal notranslate"><span class="pre">mpicc</span> <span class="pre">–o</span> <span class="pre">wrf</span> <span class="pre">wrf-main.o</span> <span class="pre">wrflibs.a</span> <span class="pre">–lnetcdf</span></code>!</p>
<p>We also simplify things by making nearly all libraries compiler independent. So math libraries such as <code class="docutils literal notranslate"><span class="pre">lapack</span></code> can be used
with both GNU and Intel compilers equally.</p>
<p>Finally, we simplify things further by deploying computationally intensive applications
and libraries using an NYU Abu Dhabi designed method which automatically switches
to the most efficient implementation based on the processor where you are currently
executing. For instance if you load the <code class="docutils literal notranslate"><span class="pre">fftw2</span></code> math library at execution time the
module will run the <code class="docutils literal notranslate"><span class="pre">sse</span></code>, <code class="docutils literal notranslate"><span class="pre">avx</span></code>, or <code class="docutils literal notranslate"><span class="pre">avx2</span></code> compiled version based on the processor you
are currently using.</p>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Center for Research Computing | NYU Abu Dhabi.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>