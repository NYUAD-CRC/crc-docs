

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>PyTorch in Dalma &mdash; CRC Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="TensorFlow (Keras) in Dalma" href="dalma_tensorflow.html" />
    <link rel="prev" title="Miniconda in Dalma" href="dalma_miniconda.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/crc-wordmark-light.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">RCS Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../rcs/index.html">Research Computing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rcs/kb/index.html">Knowledge Base</a></li>
</ul>
<p class="caption"><span class="caption-text">HPC Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">High Performance Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounts/index.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system/index.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../storage/index.html">Storage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Software</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#software-modules">Software Modules</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#dalma-miniconda">Dalma Miniconda</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Python Softwares in Dalma</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="dalma_jupyter.html">Jupyter Notebook in Dalma</a></li>
<li class="toctree-l4"><a class="reference internal" href="dalma_miniconda.html">Miniconda in Dalma</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">PyTorch in Dalma</a></li>
<li class="toctree-l4"><a class="reference internal" href="dalma_tensorflow.html">TensorFlow (Keras) in Dalma</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#r-with-dalma-miniconda">R with Dalma Miniconda</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../jobs/index.html">Jobs Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../research/index.html">Research Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help/index.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training/index.html">Dalma Training</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CRC Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Software</a> &raquo;</li>
        
          <li><a href="index.html">Python Softwares in Dalma</a> &raquo;</li>
        
      <li>PyTorch in Dalma</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/hpc/software/python/dalma_pytorch.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pytorch-in-dalma">
<h1>PyTorch in Dalma<a class="headerlink" href="#pytorch-in-dalma" title="Permalink to this headline">¶</a></h1>
<p>We have PyTorch (1.4 &amp; 1.7) installations as part of Miniconda module in Dalma.
You can clone the existing centralized environment to your local environment and
add other required libraries or packages on top of it after activating it.
To find more details of the Miniconda module in Dalma, click <a class="reference internal" href="dalma_miniconda.html"><span class="doc">here</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have never used Conda, we recommend you to use Dalma Miniconda.
You can find the steps to set up Dalma Miniconda by clicking <a class="reference internal" href="dalma_miniconda.html"><span class="doc">here</span></a>.</p>
</div>
<div class="section" id="how-to-clone-the-pytorch-environment">
<h2>How to clone the <strong>PyTorch</strong> environment<a class="headerlink" href="#how-to-clone-the-pytorch-environment" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>If you are using Dalma Miniconda</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#conda create -n &lt;name of the new env&gt; --clone &lt;existing env&gt;</span>
<span class="c1">#example:</span>
conda create -n pytorch --clone pytorch-1.4
<span class="c1">#You can also have the environment in a custom location</span>
conda create -p /scratch/wz22/conda-envs/pytroch
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>If you are using your own conda package</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#conda create -n &lt;name of the new env&gt; --clone &lt;path to existing env&gt;</span>
<span class="c1">#example:</span>
conda create -n pytorch --clone /share/apps/NYUAD/miniconda/3-4.8.2/envs/pytorch-1.4
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="submitting-job-scripts">
<h2>Submitting Job Scripts<a class="headerlink" href="#submitting-job-scripts" title="Permalink to this headline">¶</a></h2>
<p>The conda environment might not get activated when submitting a Job script since the slurm doesn’t source the bashrc file. Hence, in order to go about this, you can include the following line in your job submission script before activating the required environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> ~/.bashrc
</pre></div>
</div>
<p>A sample job submission script is shown below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH -n 10</span>
<span class="c1">#SBATCH -t 48:00:00</span>
<span class="c1">#SBATCH -p nvidia</span>
<span class="c1">#SBATCH --gres=gpu:1</span>
<span class="c1">#Other SBATCH commands go here</span>

<span class="c1">#Activating conda</span>
<span class="nb">source</span> ~/.bashrc
conda activate pytorch

<span class="c1">#Your appication commands go here</span>
python abc.py
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These installations have preinstalled cuda and cudnn libraries as well and hence there is no need to load cuda modules explicitly</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="dalma_tensorflow.html" class="btn btn-neutral float-right" title="TensorFlow (Keras) in Dalma" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="dalma_miniconda.html" class="btn btn-neutral float-left" title="Miniconda in Dalma" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Center for Research Computing | NYU Abu Dhabi.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>