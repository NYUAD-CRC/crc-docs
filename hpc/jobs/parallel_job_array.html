

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Parallel Job Array &mdash; CRC Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Analyzing GPU Jobs" href="gpu_jobs.html" />
    <link rel="prev" title="Job Array" href="job_array.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/crc-wordmark-light.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">HPC Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hpc.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../old_hpc.html">Previous HPC Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/index.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Software</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Jobs Management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quick_start.html">Quick Intro to Job Submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_jubail.html">Difference in Job Submission between Jubail and Dalma</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_job.html">Batch Job</a></li>
<li class="toctree-l2"><a class="reference internal" href="interactive.html">Interactive Sessions</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_array.html">Job Array</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Parallel Job Array</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpu_jobs.html">Analyzing GPU Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_submit.html">Submitting a Job</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_status.html">Checking Job Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_cancel.html">Cancelling a Job</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">Performance Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc_slurm.html">A Detailed SLURM Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ood/index.html">HPC Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/index.html">Research Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/index.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/index.html">HPC Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_load/index.html">HPC Load</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RCS Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/rcs.html">Research Computing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/1001n.html">1001n Research Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rcs/kb/index.html">Knowledge Base</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Science</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../data_science/data_science.html">Research Data Science Services</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../team.html">Center for Research Computing Team</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CRC Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Jobs Management</a> &raquo;</li>
        
      <li>Parallel Job Array</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parallel-job-array">
<h1>Parallel Job Array<a class="headerlink" href="#parallel-job-array" title="Permalink to this heading">¶</a></h1>
<p>There are times, however, when even a job array doesn’t really fit your needs. For instance, you may be looking at running 300,000 very short running jobs. Or maybe, the complexity to search through all the output files or having to manually “glue” them back together into a single output file is too demanding. Or maybe it’s too difficult to match SLURM’s taskids to actual input file names or parametric analysis. Or more probably the time delay between each jobs being scheduled to run is slowing down your processing as your jobs are really short</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./process-one-resuls<span class="w"> </span>file.1
./process-one-resuls<span class="w"> </span>file.2
./process-one-resuls<span class="w"> </span>file.3
...
./process-one-result<span class="w"> </span>file.50000
</pre></div>
</div>
<p>For these cases our HPC cluster has the “parallel job array” system– an NYU Abu Dhabi in-house tool – designed to make running large number of jobs even simpler.</p>
<p>To submit a parallel job array you need to prepare a file (eg: <code class="docutils literal notranslate"><span class="pre">list_of_commands.txt</span></code> ) ,where each line represents a single job to execute. You can have multiple Linux commands on a line as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>myprogram1
<span class="nb">export</span><span class="w"> </span><span class="nv">V</span><span class="o">=</span><span class="m">42</span><span class="p">;</span><span class="w"> </span>myprogram2<span class="w"> </span><span class="p">|</span><span class="w"> </span>myprogram3
myprogram4<span class="p">;</span><span class="w"> </span>myprogram5<span class="w"> </span>&lt;<span class="w"> </span>inp
myprogram6<span class="w"> </span>&gt;<span class="w"> </span>out
</pre></div>
</div>
<p>Then you pass the file to the tool and it automatically submits the job array for you.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>slurm_parallel_ja_submit.sh<span class="w"> </span>list_of_commands.txt
</pre></div>
</div>
<p>The tool splits all jobs into groups and proceeds to run them as a normal job array.
During execution all jobs within a group are split across the cores of a compute node and run in parallel.</p>
<p>The output is gathered into files, 1 output file per group and 1 error file per group;
the output is ordered to make things easy for you.</p>
<p>You get significant performance gains by eliminating the job scheduling
overhead and the queuing delay for each job.</p>
<p>The parallel job array tool allows you to set the time limit for each node – <strong>not each job</strong>!,
the processor type (sse, or avx2) and the partition, this is useful if your research group has its “compute condo”, and the number of nodes to use.</p>
<p>The parallel job array tool determines an optimal number of nodes to use
It groups all jobs into groups then processes them using conventional job array.</p>
<p>The number of “nodes” corresponds actually to the number of groups, which is the number of tasks for the job array.</p>
<p>The time limit parameter applies to the groups – eg an entire group must complete within the time limit.</p>
<div class="admonition-more-on-the-timelimit-parameter admonition">
<p class="admonition-title">More on the <strong>TimeLimit</strong> parameter</p>
<p>For example:
Let’s say you have an input file <code class="docutils literal notranslate"><span class="pre">list_of_commands.txt</span></code> with 10000 commands to run.
Let’s also assume each command utilizes a single CPU (serial job) an takes around <strong>5 minutes per command (job)</strong>.</p>
<p>Suppose you specified the <code class="docutils literal notranslate"><span class="pre">-N</span></code> parameter (which corresponds to number of nodes) to as eight while
submitting the “parallel job array”. This means that the 10000 jobs of yours are now divided in 8 groups,
with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Number</span> <span class="n">of</span> <span class="n">jobs</span> <span class="n">per</span> <span class="n">group</span> <span class="o">=</span> <span class="mi">10000</span><span class="o">/</span><span class="mi">8</span> <span class="o">=</span> <span class="mi">1250</span>
</pre></div>
</div>
<p>Now each group of job will run on one node and the parallel job array is submitted by default to dalma nodes which has 28 CPUs per node.
This means that per each core (CPU), we will have</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Number</span> <span class="n">of</span> <span class="n">jobs</span> <span class="n">per</span> <span class="n">core</span> <span class="p">(</span><span class="n">CPU</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1250</span><span class="o">/</span><span class="mi">28</span> <span class="o">=</span> <span class="mi">44</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Hence</span><span class="p">,</span> <span class="n">total</span> <span class="n">time</span> <span class="n">per</span> <span class="n">CPU</span> <span class="o">=</span> <span class="mi">45</span> <span class="o">*</span> <span class="mi">5</span> <span class="n">minutes</span> <span class="o">=</span> <span class="mi">225</span> <span class="n">minutes</span> <span class="o">=</span> <span class="mi">3</span> <span class="n">hours</span> <span class="mi">45</span> <span class="n">minutes</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">+1</span></code> factor comes with the fact that since <code class="docutils literal notranslate"><span class="pre">1250</span></code> isn’t perfectly divisible by <code class="docutils literal notranslate"><span class="pre">28</span></code>, the reminder is distributed
among the different cores in a round robin fashion.</p>
</div>
<p>This is the estimated time it will take a group of jobs (1250) to complete on a single node.</p>
<p><strong>Hence, while submitting the ``parallel job array`` it will be good to specify this TimeLimit as well, as
the lower the walltime, the higher is the probability for the faster allocation of resources.</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">slurm_parallel_ja_submit</span><span class="o">.</span><span class="n">sh</span> <span class="o">-</span><span class="n">N</span> <span class="mi">8</span> <span class="o">-</span><span class="n">t</span> <span class="mi">03</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>slurm_parallel_ja_submit.sh<span class="w"> </span>–h
slurm_parallel_ja_submit.sh<span class="w"> </span>options:
-C<span class="w"> </span>&lt;constraint&gt;<span class="w"> </span><span class="o">(</span>avx2<span class="w"> </span>or<span class="w"> </span>sse<span class="o">)</span>
-t<span class="w"> </span>&lt;<span class="nb">time</span><span class="w"> </span>limit<span class="w"> </span>HH:MM:SS&gt;
-p<span class="w"> </span>&lt;partition&gt;
-N<span class="w"> </span>&lt;number<span class="w"> </span>of<span class="w"> </span>nodes&gt;
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The parallel job array tool propagates your environment,
and loaded modules, to all jobs.</p>
</div>
<p>The tool also support OpenMP jobs, so you can set the number of threads before launching your parallel job array.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span><span class="c1">#export the required number of threads</span>
$&gt;<span class="w"> </span><span class="c1">#in the current environment</span>
$&gt;<span class="w"> </span><span class="c1">#before submitting the jobs</span>
$&gt;
$&gt;<span class="w"> </span><span class="c1">#For example</span>
$&gt;<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">4</span>
$&gt;<span class="w"> </span>slurm_parallel_ja_submit.sh<span class="w"> </span>-N<span class="w"> </span><span class="m">8</span><span class="w"> </span>-t<span class="w"> </span><span class="m">03</span>:45:00<span class="w"> </span>list_of_commands.txt
</pre></div>
</div>
<p>By default the tool will allow up to 8 “nodes” (groups).
You can increase the number of nodes when there is a very large
number of jobs to process to run faster, or when the groups can’t finish within the time limit</p>
<p>Here is how a complete example looks like.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>cat<span class="w"> </span>list_of_commands.txt
<span class="nb">echo</span><span class="w"> </span>processing<span class="w"> </span><span class="m">1</span>
<span class="nb">echo</span><span class="w"> </span>processing<span class="w"> </span><span class="m">2</span>
...
<span class="nb">echo</span><span class="w"> </span>processing<span class="w"> </span><span class="m">10000</span>


$&gt;<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">4</span>
$&gt;<span class="w"> </span>slurm_parallel_ja_submit.sh<span class="w"> </span>-N<span class="w"> </span><span class="m">8</span><span class="w"> </span>-t<span class="w"> </span><span class="m">03</span>:45:00<span class="w"> </span>list_of_commands.txt
Entered<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>nodes<span class="w"> </span>to<span class="w"> </span>use:<span class="w"> </span><span class="m">8</span>
Entered<span class="w"> </span>walltime:<span class="w"> </span><span class="m">03</span>:45:00
Input:<span class="w"> </span>list_of_commands.txt
Actual<span class="w"> </span>maximum<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>nodes<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used:<span class="w"> </span><span class="m">8</span>
Submitting<span class="w"> </span>parallel<span class="w"> </span>job<span class="w"> </span>array<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>modules:
No<span class="w"> </span>Modulefiles<span class="w"> </span>Currently<span class="w"> </span>Loaded.
Submitting<span class="w"> </span>parallel<span class="w"> </span>job<span class="w"> </span>array<span class="w"> </span>with<span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="w"> </span><span class="m">4</span>
Submitted<span class="w"> </span>batch<span class="w"> </span>job<span class="w"> </span><span class="m">265340</span>


$&gt;<span class="w"> </span>squeue
<span class="w">             </span>JOBID<span class="w"> </span>PARTITION<span class="w">     </span>NAME<span class="w">     </span>USER<span class="w"> </span>ST<span class="w">       </span>TIME<span class="w">  </span>NODES<span class="w"> </span>NODELIST<span class="o">(</span>REASON<span class="o">)</span>
<span class="w">      </span>265340_1<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">2</span><span class="w"> </span>cn<span class="o">[</span><span class="m">107</span>,110<span class="o">]</span>
<span class="w">      </span>265340_2<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">2</span><span class="w"> </span>cn<span class="o">[</span><span class="m">163</span>,189<span class="o">]</span>
<span class="w">      </span>265340_3<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">2</span><span class="w"> </span>cn<span class="o">[</span><span class="m">190</span>-191<span class="o">]</span>
<span class="w">      </span>265340_4<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">2</span><span class="w"> </span>cn<span class="o">[</span><span class="m">192</span>-193<span class="o">]</span>
<span class="w">      </span>265340_5<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">4</span><span class="w"> </span>cn<span class="o">[</span><span class="m">041</span>,043,049,146<span class="o">]</span>
<span class="w">      </span>265340_6<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">4</span><span class="w"> </span>cn<span class="o">[</span><span class="m">050</span>,203-205<span class="o">]</span>
<span class="w">      </span>265340_7<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">3</span><span class="w"> </span>cn<span class="o">[</span><span class="m">206</span>-208<span class="o">]</span>
<span class="w">      </span>265340_8<span class="w">   </span>compute<span class="w">   </span>sbatch<span class="w">  </span>ms13779<span class="w">  </span>R<span class="w">       </span><span class="m">0</span>:03<span class="w">      </span><span class="m">3</span><span class="w"> </span>cn<span class="o">[</span><span class="m">209</span>-211<span class="o">]</span>


$&gt;<span class="w"> </span>ls<span class="w"> </span>list_of_commands.txt-265340_*
list_of_commands.txt-265340_1.err<span class="w">  </span>list_of_commands.txt-265340_2.err<span class="w">  </span>list_of_commands.txt-265340_3.err<span class="w">  </span>list_of_commands.txt-265340_4.err
list_of_commands.txt-265340_5.err<span class="w">  </span>list_of_commands.txt-265340_6.err<span class="w">  </span>list_of_commands.txt-265340_7.err<span class="w">  </span>list_of_commands.txt-265340_8.err
list_of_commands.txt-265340_1.out<span class="w">  </span>list_of_commands.txt-265340_2.out<span class="w">  </span>list_of_commands.txt-265340_3.out<span class="w">  </span>list_of_commands.txt-265340_4.out
list_of_commands.txt-265340_5.out<span class="w">  </span>list_of_commands.txt-265340_6.out<span class="w">  </span>list_of_commands.txt-265340_7.out<span class="w">  </span>list_of_commands.txt-265340_8.out


$&gt;<span class="w"> </span>cat<span class="w"> </span>list_of_commands.txt-265340_1.out
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">1</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="nv">1</span>
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="m">2</span>
...
processing<span class="w"> </span><span class="nv">1249</span>
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">1250</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="m">1250</span>


$&gt;<span class="w"> </span>cat<span class="w"> </span>list_of_commands.txt-265340_8.out
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">8751</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="nv">8751</span>
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">8752</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="m">8752</span>
...
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">9999</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="nv">9999</span>
<span class="o">=============</span><span class="w"> </span>job<span class="w"> </span><span class="nv">10000</span><span class="w"> </span><span class="o">============</span>
processing<span class="w"> </span><span class="m">10000</span>
</pre></div>
</div>
<p>For compatibilty with existing job array scripts you can
use the <code class="docutils literal notranslate"><span class="pre">SLURM_ARRAY_TASK_ID</span></code> environment variable
in your parallel job array processing.
Here the <code class="docutils literal notranslate"><span class="pre">list4.txt</span></code> input file contains the line <code class="docutils literal notranslate"><span class="pre">./ja.sh</span></code> 1000
times.</p>
<p>An additional benefit of parallel job array processing is
that you are not limited to SLURM’s <code class="docutils literal notranslate"><span class="pre">MaxSubmit</span></code> and
<code class="docutils literal notranslate"><span class="pre">MaxJobs</span> <span class="pre">account</span></code> / user limits.
Whereas you can submit a maximum of 200 jobs, using parallel job array you have no
such limits.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>cat<span class="w"> </span>ja.sh
<span class="c1">#!/bin/bash</span>
<span class="c1">#SBATCH -n 1</span>
<span class="c1">#SBATCH -a 1-1000</span>
sleep<span class="w"> </span><span class="m">5</span>
<span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="w"> </span><span class="s2">&quot; &quot;</span>
date

$&gt;<span class="w"> </span>sbatch<span class="w"> </span>ja.sh

$&gt;<span class="w"> </span>cat<span class="w"> </span>list4.txt
./ja.sh
./ja.sh
...
./ja.sh

$&gt;<span class="w"> </span>slurm_parallel_ja_submit.sh<span class="w"> </span>list4
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gpu_jobs.html" class="btn btn-neutral float-right" title="Analyzing GPU Jobs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="job_array.html" class="btn btn-neutral float-left" title="Job Array" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, Center for Research Computing | NYU Abu Dhabi.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>